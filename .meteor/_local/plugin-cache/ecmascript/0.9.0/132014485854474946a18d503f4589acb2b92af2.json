{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/session.js","filenameRelative":"imports/session.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/session.js.map","sourceFileName":"imports/session.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"session"},"ignored":false,"code":"class PersistentSession {\n  constructor() {\n    if (!('__miniblog__' in window.localStorage)) {\n      window.localStorage['__miniblog__'] = '{}';\n    }\n  }\n\n  get(key) {\n    var all = getAll();\n    return all[key];\n  }\n\n  set(key, value) {\n    var all = getAll();\n    all[key] = value;\n    setAll(all);\n  }\n\n}\n\nfunction getAll() {\n  var all = window.localStorage['__miniblog__'];\n\n  try {\n    return JSON.parse(all);\n  } catch (e) {\n    console.log(e);\n    return null;\n  }\n}\n\nfunction setAll(all) {\n  window.localStorage['__miniblog__'] = JSON.stringify(all);\n}\n\nmodule.exportDefault(Session = new PersistentSession());","map":{"version":3,"sources":["imports/session.js"],"names":["PersistentSession","constructor","window","localStorage","get","key","all","getAll","set","value","setAll","JSON","parse","e","console","log","stringify","module","exportDefault","Session"],"mappings":"AAAA,MAAMA,iBAAN,CAAwB;AACtBC,gBAAa;AACX,QAAG,EAAE,kBAAkBC,OAAOC,YAA3B,CAAH,EAA4C;AAC1CD,aAAOC,YAAP,CAAoB,cAApB,IAAsC,IAAtC;AACD;AACF;;AAEDC,MAAIC,GAAJ,EAAQ;AACN,QAAIC,MAAMC,QAAV;AACA,WAAOD,IAAID,GAAJ,CAAP;AACD;;AAEDG,MAAIH,GAAJ,EAASI,KAAT,EAAe;AACb,QAAIH,MAAMC,QAAV;AACAD,QAAID,GAAJ,IAAWI,KAAX;AACAC,WAAOJ,GAAP;AACD;;AAhBqB;;AAmBxB,SAASC,MAAT,GAAiB;AACf,MAAID,MAAMJ,OAAOC,YAAP,CAAoB,cAApB,CAAV;;AACA,MAAG;AACD,WAAOQ,KAAKC,KAAL,CAAWN,GAAX,CAAP;AACD,GAFD,CAEC,OAAMO,CAAN,EAAQ;AACPC,YAAQC,GAAR,CAAYF,CAAZ;AACA,WAAO,IAAP;AACD;AACF;;AAED,SAASH,MAAT,CAAgBJ,GAAhB,EAAoB;AAClBJ,SAAOC,YAAP,CAAoB,cAApB,IAAsCQ,KAAKK,SAAL,CAAeV,GAAf,CAAtC;AACD;;AA/BDW,OAAOC,aAAP,CAiCeC,UAAU,IAAInB,iBAAJ,EAjCzB","file":"imports/session.js.map","sourcesContent":["class PersistentSession {\n  constructor(){\n    if(!('__miniblog__' in window.localStorage)){\n      window.localStorage['__miniblog__'] = '{}';\n    }\n  }\n\n  get(key){\n    var all = getAll();\n    return all[key];\n  }\n\n  set(key, value){\n    var all = getAll();\n    all[key] = value;\n    setAll(all);\n  }\n}\n\nfunction getAll(){\n  var all = window.localStorage['__miniblog__'];\n  try{\n    return JSON.parse(all);\n  }catch(e){\n    console.log(e);\n    return null;\n  }\n}\n\nfunction setAll(all){\n  window.localStorage['__miniblog__'] = JSON.stringify(all);\n}\n\nexport default Session = new PersistentSession();\n"]},"hash":"132014485854474946a18d503f4589acb2b92af2"}
