{"metadata":{"usedHelpers":["classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/session.js","filenameRelative":"imports/session.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/session.js.map","sourceFileName":"imports/session.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"session"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar PersistentSession = function () {\n  function PersistentSession() {\n    (0, _classCallCheck3.default)(this, PersistentSession);\n\n    if (!('__miniblog__' in localStorage)) {\n      localStorage['__miniblog__'] = '{}';\n    }\n  }\n\n  PersistentSession.prototype.get = function () {\n    function get(key) {\n      var all = getAll();\n      return all[key];\n    }\n\n    return get;\n  }();\n\n  PersistentSession.prototype.set = function () {\n    function set(key, value) {\n      var all = getAll();\n      all[key] = value;\n      setAll(all);\n    }\n\n    return set;\n  }();\n\n  return PersistentSession;\n}();\n\nfunction getAll() {\n  var all = localStorage['__miniblog__'];\n\n  try {\n    return JSON.parse(all);\n  } catch (e) {\n    console.log(e);\n    return null;\n  }\n}\n\nfunction setAll(all) {\n  localStorage['__miniblog__'] = JSON.stringify(all);\n}\n\nmodule.exportDefault(Session = new PersistentSession());","map":{"version":3,"sources":["imports/session.js"],"names":["PersistentSession","localStorage","get","key","all","getAll","set","value","setAll","JSON","parse","e","console","log","stringify","module","exportDefault","Session"],"mappings":";;;;;;IAAMA,iB;AACJ,+BAAa;AAAA;;AACX,QAAG,EAAE,kBAAkBC,YAApB,CAAH,EAAqC;AACnCA,mBAAa,cAAb,IAA+B,IAA/B;AACD;AACF;;8BAEDC,G;iBAAIC,G,EAAI;AACN,UAAIC,MAAMC,QAAV;AACA,aAAOD,IAAID,GAAJ,CAAP;AACD;;;;;8BAEDG,G;iBAAIH,G,EAAKI,K,EAAM;AACb,UAAIH,MAAMC,QAAV;AACAD,UAAID,GAAJ,IAAWI,KAAX;AACAC,aAAOJ,GAAP;AACD;;;;;;;;AAGH,SAASC,MAAT,GAAiB;AACf,MAAID,MAAMH,aAAa,cAAb,CAAV;;AACA,MAAG;AACD,WAAOQ,KAAKC,KAAL,CAAWN,GAAX,CAAP;AACD,GAFD,CAEC,OAAMO,CAAN,EAAQ;AACPC,YAAQC,GAAR,CAAYF,CAAZ;AACA,WAAO,IAAP;AACD;AACF;;AAED,SAASH,MAAT,CAAgBJ,GAAhB,EAAoB;AAClBH,eAAa,cAAb,IAA+BQ,KAAKK,SAAL,CAAeV,GAAf,CAA/B;AACD;;AA/BDW,OAAOC,aAAP,CAiCeC,UAAU,IAAIjB,iBAAJ,EAjCzB","file":"imports/session.js.map","sourcesContent":["class PersistentSession {\n  constructor(){\n    if(!('__miniblog__' in localStorage)){\n      localStorage['__miniblog__'] = '{}';\n    }\n  }\n\n  get(key){\n    var all = getAll();\n    return all[key];\n  }\n\n  set(key, value){\n    var all = getAll();\n    all[key] = value;\n    setAll(all);\n  }\n}\n\nfunction getAll(){\n  var all = localStorage['__miniblog__'];\n  try{\n    return JSON.parse(all);\n  }catch(e){\n    console.log(e);\n    return null;\n  }\n}\n\nfunction setAll(all){\n  localStorage['__miniblog__'] = JSON.stringify(all);\n}\n\nexport default Session = new PersistentSession();\n"]},"hash":"604596df715a1295cac9d6fe651c3730cbfefc9c"}
