{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"../session","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Session"}]},{"source":"../helper","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Helper"}]},{"source":"./Menu","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Menu"}]},{"source":"../../redux/actions","imported":["loginTeller"],"specifiers":[{"kind":"named","imported":"loginTeller","local":"loginTeller"}]}],"exports":{"exported":["Login"],"specifiers":[{"kind":"local","local":"Login","exported":"default"}]}}},"options":{"filename":"imports/ui/Login.js","filenameRelative":"imports/ui/Login.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/Login.js.map","sourceFileName":"imports/ui/Login.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"Login"},"ignored":false,"code":"module.export({\n  default: () => Login\n});\nlet React, Component;\nmodule.watch(require(\"react\"), {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet Session;\nmodule.watch(require(\"../session\"), {\n  default(v) {\n    Session = v;\n  }\n\n}, 1);\nlet Helper;\nmodule.watch(require(\"../helper\"), {\n  default(v) {\n    Helper = v;\n  }\n\n}, 2);\nlet Menu;\nmodule.watch(require(\"./Menu\"), {\n  default(v) {\n    Menu = v;\n  }\n\n}, 3);\nlet loginTeller;\nmodule.watch(require(\"../../redux/actions\"), {\n  loginTeller(v) {\n    loginTeller = v;\n  }\n\n}, 4);\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  componentDidMount() {\n    if (Helper.isLoggedIn()) {\n      this.props.history.push('/panel');\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    Meteor.call('login.teller', this.state, (err, data) => {\n      if (!err) {\n        if (data) {\n          this.setState({\n            email: '',\n            password: ''\n          });\n          Session.set('teller_id', data._id);\n          this.props.dispatch(loginTeller(data));\n          this.props.history.push('/panel');\n        }\n      } else {\n        console.log('err', err);\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\n      \"div\",\n      {\n        className: \"container\"\n      },\n      React.createElement(Menu, null),\n      React.createElement(\n        \"h1\",\n        null,\n        \"Login\"\n      ),\n      React.createElement(\n        \"form\",\n        {\n          className: \"login-form\",\n          onSubmit: this.handleSubmit.bind(this)\n        },\n        React.createElement(\"input\", {\n          name: \"email\",\n          placeholder: \"email\",\n          onChange: e => {\n            this.setState({\n              email: e.target.value\n            });\n          }\n        }),\n        React.createElement(\"input\", {\n          name: \"password\",\n          placeholder: \"password\",\n          onChange: e => {\n            this.setState({\n              password: e.target.value\n            });\n          }\n        }),\n        React.createElement(\n          \"button\",\n          null,\n          \"Send\"\n        )\n      )\n    );\n  }\n\n}","map":{"version":3,"sources":["imports/ui/Login.js"],"names":["module","export","default","Login","React","Component","watch","require","v","Session","Helper","Menu","loginTeller","constructor","props","state","email","password","componentDidMount","isLoggedIn","history","push","handleSubmit","e","preventDefault","Meteor","call","err","data","setState","set","_id","dispatch","console","log","render","bind","target","value"],"mappings":"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","file":"imports/ui/Login.js.map","sourcesContent":["import React, { Component } from 'react';\nimport Session from '../session';\nimport Helper from '../helper';\nimport Menu from './Menu';\n\nimport { loginTeller } from '../../redux/actions'\n\nexport default class Login extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  componentDidMount(){\n    if(Helper.isLoggedIn()){\n      this.props.history.push('/panel');\n    }\n  }\n\n  handleSubmit(e){\n    e.preventDefault();\n\n    Meteor.call('login.teller', this.state, (err, data)=>{\n      if(!err){\n        if(data){\n          this.setState({\n            email: '',\n            password: ''\n          });\n\n          Session.set('teller_id', data._id);\n\n          this.props.dispatch(loginTeller(data));\n          this.props.history.push('/panel');\n        }\n      }else{\n        console.log('err', err)\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Menu />\n        <h1>Login</h1>\n        <form className=\"login-form\" onSubmit={this.handleSubmit.bind(this)}>\n          <input name=\"email\" placeholder=\"email\" onChange={ (e)=>{ this.setState({email: e.target.value}) } }/>\n          <input name=\"password\" placeholder=\"password\" onChange={ (e)=>{ this.setState({password: e.target.value}) } }/>\n          <button>Send</button>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"hash":"7295293cf14708a17de929f8041c51d17eae2fe0"}
