{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"../session","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Session"}]},{"source":"../helper","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Helper"}]},{"source":"./Menu","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Menu"}]},{"source":"../../redux/actions","imported":["loginTeller"],"specifiers":[{"kind":"named","imported":"loginTeller","local":"loginTeller"}]}],"exports":{"exported":["Login"],"specifiers":[{"kind":"local","local":"Login","exported":"default"}]}}},"options":{"filename":"imports/ui/Login.js","filenameRelative":"imports/ui/Login.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/Login.js.map","sourceFileName":"imports/ui/Login.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"Login"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  \"default\": function () {\n    return Login;\n  }\n});\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar Session = void 0;\nmodule.watch(require(\"../session\"), {\n  \"default\": function (v) {\n    Session = v;\n  }\n}, 1);\nvar Helper = void 0;\nmodule.watch(require(\"../helper\"), {\n  \"default\": function (v) {\n    Helper = v;\n  }\n}, 2);\nvar Menu = void 0;\nmodule.watch(require(\"./Menu\"), {\n  \"default\": function (v) {\n    Menu = v;\n  }\n}, 3);\nvar loginTeller = void 0;\nmodule.watch(require(\"../../redux/actions\"), {\n  loginTeller: function (v) {\n    loginTeller = v;\n  }\n}, 4);\n\nvar Login = function (_Component) {\n  (0, _inherits3.default)(Login, _Component);\n\n  function Login(props) {\n    (0, _classCallCheck3.default)(this, Login);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.state = {\n      email: '',\n      password: ''\n    };\n    return _this;\n  }\n\n  Login.prototype.componentDidMount = function () {\n    function componentDidMount() {\n      if (Helper.isLoggedIn()) {\n        this.props.history.push('/panel');\n      }\n    }\n\n    return componentDidMount;\n  }();\n\n  Login.prototype.handleSubmit = function () {\n    function handleSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      Meteor.call('login.teller', this.state, function (err, data) {\n        if (!err) {\n          if (data) {\n            _this2.setState({\n              email: '',\n              password: ''\n            });\n\n            Session.set('teller_id', data._id);\n\n            _this2.props.dispatch(loginTeller(data));\n\n            _this2.props.history.push('/panel');\n          }\n        } else {\n          console.log('err', err);\n        }\n      });\n    }\n\n    return handleSubmit;\n  }();\n\n  Login.prototype.render = function () {\n    function render() {\n      var _this3 = this;\n\n      return React.createElement(\n        \"div\",\n        {\n          className: \"container\"\n        },\n        React.createElement(Menu, null),\n        React.createElement(\n          \"h1\",\n          null,\n          \"Login\"\n        ),\n        React.createElement(\n          \"form\",\n          {\n            className: \"login-form\",\n            onSubmit: this.handleSubmit.bind(this)\n          },\n          React.createElement(\"input\", {\n            name: \"email\",\n            placeholder: \"email\",\n            onChange: function (e) {\n              _this3.setState({\n                email: e.target.value\n              });\n            }\n          }),\n          React.createElement(\"input\", {\n            name: \"password\",\n            placeholder: \"password\",\n            onChange: function (e) {\n              _this3.setState({\n                password: e.target.value\n              });\n            }\n          }),\n          React.createElement(\n            \"button\",\n            null,\n            \"Send\"\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return Login;\n}(Component);","map":{"version":3,"sources":["imports/ui/Login.js"],"names":["module","export","Login","React","Component","watch","require","v","Session","Helper","Menu","loginTeller","props","state","email","password","componentDidMount","isLoggedIn","history","push","handleSubmit","e","preventDefault","Meteor","call","err","data","setState","set","_id","dispatch","console","log","render","bind","target","value"],"mappings":"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","file":"imports/ui/Login.js.map","sourcesContent":["import React, { Component } from 'react';\nimport Session from '../session';\nimport Helper from '../helper';\nimport Menu from './Menu';\n\nimport { loginTeller } from '../../redux/actions'\n\nexport default class Login extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  componentDidMount(){\n    if(Helper.isLoggedIn()){\n      this.props.history.push('/panel');\n    }\n  }\n\n  handleSubmit(e){\n    e.preventDefault();\n\n    Meteor.call('login.teller', this.state, (err, data)=>{\n      if(!err){\n        if(data){\n          this.setState({\n            email: '',\n            password: ''\n          });\n\n          Session.set('teller_id', data._id);\n\n          this.props.dispatch(loginTeller(data));\n          this.props.history.push('/panel');\n        }\n      }else{\n        console.log('err', err)\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Menu />\n        <h1>Login</h1>\n        <form className=\"login-form\" onSubmit={this.handleSubmit.bind(this)}>\n          <input name=\"email\" placeholder=\"email\" onChange={ (e)=>{ this.setState({email: e.target.value}) } }/>\n          <input name=\"password\" placeholder=\"password\" onChange={ (e)=>{ this.setState({password: e.target.value}) } }/>\n          <button>Send</button>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"hash":"77186a6e867e475676e706f1bad6f85a948539ef"}
