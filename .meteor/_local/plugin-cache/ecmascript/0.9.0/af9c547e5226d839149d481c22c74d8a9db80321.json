{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"../session","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Session"}]},{"source":"../helper","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Helper"}]},{"source":"../models","imported":["Tellers"],"specifiers":[{"kind":"named","imported":"Tellers","local":"Tellers"}]},{"source":"./Menu","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Menu"}]},{"source":"../../redux/actions","imported":["loginTeller"],"specifiers":[{"kind":"named","imported":"loginTeller","local":"loginTeller"}]}],"exports":{"exported":["Register"],"specifiers":[{"kind":"local","local":"Register","exported":"default"}]}}},"options":{"filename":"imports/ui/Register.js","filenameRelative":"imports/ui/Register.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/Register.js.map","sourceFileName":"imports/ui/Register.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"Register"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  \"default\": function () {\n    return Register;\n  }\n});\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar Session = void 0;\nmodule.watch(require(\"../session\"), {\n  \"default\": function (v) {\n    Session = v;\n  }\n}, 1);\nvar Helper = void 0;\nmodule.watch(require(\"../helper\"), {\n  \"default\": function (v) {\n    Helper = v;\n  }\n}, 2);\nvar Tellers = void 0;\nmodule.watch(require(\"../models\"), {\n  Tellers: function (v) {\n    Tellers = v;\n  }\n}, 3);\nvar Menu = void 0;\nmodule.watch(require(\"./Menu\"), {\n  \"default\": function (v) {\n    Menu = v;\n  }\n}, 4);\nvar loginTeller = void 0;\nmodule.watch(require(\"../../redux/actions\"), {\n  loginTeller: function (v) {\n    loginTeller = v;\n  }\n}, 5);\n\nvar Register = function (_Component) {\n  (0, _inherits3.default)(Register, _Component);\n\n  function Register(props) {\n    (0, _classCallCheck3.default)(this, Register);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.state = {\n      email: '',\n      password: ''\n    };\n    return _this;\n  }\n\n  Register.prototype.componentDidMount = function () {\n    function componentDidMount() {\n      if (Helper.isLoggedIn()) {\n        this.props.history.push('/panel');\n      }\n    }\n\n    return componentDidMount;\n  }();\n\n  Register.prototype.componentWillMount = function () {\n    function componentWillMount() {}\n\n    return componentWillMount;\n  }();\n\n  Register.prototype.handleSubmit = function () {\n    function handleSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      Meteor.call('register.teller', this.state, function (err, data) {\n        if (!err) {\n          _this2.setState({\n            email: '',\n            password: ''\n          });\n\n          Session.set('teller_id', data._id);\n\n          _this2.props.dispatch(loginTeller(data));\n\n          _this2.props.history.push('/panel');\n        } else {\n          console.log('err', err);\n        }\n      });\n    }\n\n    return handleSubmit;\n  }();\n\n  Register.prototype.render = function () {\n    function render() {\n      var _this3 = this;\n\n      return React.createElement(\n        \"div\",\n        {\n          className: \"container\"\n        },\n        React.createElement(\n          \"h1\",\n          null,\n          \"Register\"\n        ),\n        React.createElement(\n          \"form\",\n          {\n            className: \"register-form\",\n            onSubmit: this.handleSubmit.bind(this)\n          },\n          React.createElement(\"input\", {\n            value: this.state.email,\n            ref: \"email\",\n            name: \"email\",\n            placeholder: \"email\",\n            onChange: function (e) {\n              _this3.setState({\n                email: e.target.value\n              });\n            }\n          }),\n          React.createElement(\"input\", {\n            value: this.state.password,\n            ref: \"password\",\n            name: \"password\",\n            placeholder: \"password\",\n            onChange: function (e) {\n              _this3.setState({\n                password: e.target.value\n              });\n            }\n          }),\n          React.createElement(\n            \"button\",\n            null,\n            \"Send\"\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return Register;\n}(Component);","map":{"version":3,"sources":["imports/ui/Register.js"],"names":["module","export","Register","React","Component","watch","require","v","Session","Helper","Tellers","Menu","loginTeller","props","state","email","password","componentDidMount","isLoggedIn","history","push","componentWillMount","handleSubmit","e","preventDefault","Meteor","call","err","data","setState","set","_id","dispatch","console","log","render","bind","target","value"],"mappings":";;;;;;;;;;;;;;AAAAA,OAAOC,MAAP,CAAc;AAAC,aAAQ;AAAA,WAAIC,QAAJ;AAAA;AAAT,CAAd;AAAsC,IAAIC,cAAJ;AAAA,IAAUC,kBAAV;AAAoBJ,OAAOK,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAAA,uBAASC,CAAT,EAAW;AAACJ,YAAMI,CAAN;AAAQ,GAApB;AAAqBH,WAArB,YAA+BG,CAA/B,EAAiC;AAACH,gBAAUG,CAAV;AAAY;AAA9C,CAA9B,EAA8E,CAA9E;AAAiF,IAAIC,gBAAJ;AAAYR,OAAOK,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAAA,uBAASC,CAAT,EAAW;AAACC,cAAQD,CAAR;AAAU;AAAtB,CAAnC,EAA2D,CAA3D;AAA8D,IAAIE,eAAJ;AAAWT,OAAOK,KAAP,CAAaC,QAAQ,WAAR,CAAb,EAAkC;AAAA,uBAASC,CAAT,EAAW;AAACE,aAAOF,CAAP;AAAS;AAArB,CAAlC,EAAyD,CAAzD;AAA4D,IAAIG,gBAAJ;AAAYV,OAAOK,KAAP,CAAaC,QAAQ,WAAR,CAAb,EAAkC;AAACI,SAAD,YAASH,CAAT,EAAW;AAACG,cAAQH,CAAR;AAAU;AAAtB,CAAlC,EAA0D,CAA1D;AAA6D,IAAII,aAAJ;AAASX,OAAOK,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAAA,uBAASC,CAAT,EAAW;AAACI,WAAKJ,CAAL;AAAO;AAAnB,CAA/B,EAAoD,CAApD;AAAuD,IAAIK,oBAAJ;AAAgBZ,OAAOK,KAAP,CAAaC,QAAQ,qBAAR,CAAb,EAA4C;AAACM,aAAD,YAAaL,CAAb,EAAe;AAACK,kBAAYL,CAAZ;AAAc;AAA9B,CAA5C,EAA4E,CAA5E;;IAUhaL,Q;;;AACnB,oBAAYW,KAAZ,EAAkB;AAAA;;AAAA,+DAChB,sBAAMA,KAAN,CADgB;;AAEhB,UAAKC,KAAL,GAAa;AACXC,aAAO,EADI;AAEXC,gBAAU;AAFC,KAAb;AAFgB;AAMjB;;qBAEDC,iB;iCAAmB;AACjB,UAAGR,OAAOS,UAAP,EAAH,EAAuB;AACrB,aAAKL,KAAL,CAAWM,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD;AACF;;;;;qBAEDC,kB;kCAAoB,CAEnB;;;;;qBAEDC,Y;0BAAaC,C,EAAE;AAAA;;AACbA,QAAEC,cAAF;AAEAC,aAAOC,IAAP,CAAY,iBAAZ,EAA+B,KAAKZ,KAApC,EAA2C,UAACa,GAAD,EAAMC,IAAN,EAAa;AACtD,YAAG,CAACD,GAAJ,EAAQ;AACN,iBAAKE,QAAL,CAAc;AACZd,mBAAO,EADK;AAEZC,sBAAU;AAFE,WAAd;;AAKAR,kBAAQsB,GAAR,CAAY,WAAZ,EAAyBF,KAAKG,GAA9B;;AAEA,iBAAKlB,KAAL,CAAWmB,QAAX,CAAoBpB,YAAYgB,IAAZ,CAApB;;AACA,iBAAKf,KAAL,CAAWM,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD,SAVD,MAUK;AACHa,kBAAQC,GAAR,CAAY,KAAZ,EAAmBP,GAAnB;AACD;AACF,OAdD;AAeD;;;;;qBAEDQ,M;sBAAS;AAAA;;AACP,aACE;AAAA;AAAA;AAAK,qBAAU;AAAf;AACE;AAAA;AAAA;AAAA;AAAA,SADF;AAEE;AAAA;AAAA;AAAM,uBAAU,eAAhB;AAAgC,sBAAU,KAAKb,YAAL,CAAkBc,IAAlB,CAAuB,IAAvB;AAA1C;AACE;AAAO,mBAAO,KAAKtB,KAAL,CAAWC,KAAzB;AAAgC,iBAAI,OAApC;AAA4C,kBAAK,OAAjD;AAAyD,yBAAY,OAArE;AAA6E,sBAAW,UAACQ,CAAD,EAAK;AAAE,qBAAKM,QAAL,CAAc;AAACd,uBAAOQ,EAAEc,MAAF,CAASC;AAAjB,eAAd;AAAwC;AAAvI,YADF;AAEE;AAAO,mBAAO,KAAKxB,KAAL,CAAWE,QAAzB;AAAmC,iBAAI,UAAvC;AAAkD,kBAAK,UAAvD;AAAkE,yBAAY,UAA9E;AAAyF,sBAAW,UAACO,CAAD,EAAK;AAAE,qBAAKM,QAAL,CAAc;AAACb,0BAAUO,EAAEc,MAAF,CAASC;AAApB,eAAd;AAA2C;AAAtJ,YAFF;AAGE;AAAA;AAAA;AAAA;AAAA;AAHF;AAFF,OADF;AAUD;;;;;;EAlDmClC,S","file":"imports/ui/Register.js.map","sourcesContent":["import React, { Component } from 'react';\n// import { Session } from 'meteor/session'\nimport Session from '../session';\nimport Helper from '../helper';\n\nimport { Tellers } from '../models';\n\nimport Menu from './Menu'\nimport { loginTeller } from '../../redux/actions'\n\nexport default class Register extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  componentDidMount(){\n    if(Helper.isLoggedIn()){\n      this.props.history.push('/panel');\n    }\n  }\n\n  componentWillMount(){\n\n  }\n\n  handleSubmit(e){\n    e.preventDefault();\n\n    Meteor.call('register.teller', this.state, (err, data)=>{\n      if(!err){\n        this.setState({\n          email: '',\n          password: ''\n        });\n\n        Session.set('teller_id', data._id);\n\n        this.props.dispatch(loginTeller(data));\n        this.props.history.push('/panel');\n      }else{\n        console.log('err', err)\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h1>Register</h1>\n        <form className=\"register-form\" onSubmit={this.handleSubmit.bind(this)}>\n          <input value={this.state.email} ref=\"email\" name=\"email\" placeholder=\"email\" onChange={ (e)=>{ this.setState({email: e.target.value}) } }/>\n          <input value={this.state.password} ref=\"password\" name=\"password\" placeholder=\"password\" onChange={ (e)=>{ this.setState({password: e.target.value}) } }/>\n          <button>Send</button>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"hash":"af9c547e5226d839149d481c22c74d8a9db80321"}
